# ========================
# ğŸ™ï¸ Whisper Text Analyzer - STT Worker Dockerfile
# ========================

FROM python:3.9

WORKDIR /app

# âœ… ì„œë¹„ìŠ¤ ì½”ë“œ ë³µì‚¬
COPY . .

COPY requirements.txt .

# âœ… pip ìµœì‹ í™”
RUN pip install --upgrade pip

# âœ… whisper + torch ê³ ì • ì„¤ì¹˜ (GPU ì‚¬ìš© ê°€ëŠ¥ ë²„ì „)
RUN pip install torch==2.5.1 -f https://download.pytorch.org/whl/cu121 \
 && pip install openai-whisper==20240930

# âœ… ë‚˜ë¨¸ì§€ requirements ì„¤ì¹˜
RUN pip install --no-cache-dir -r requirements.txt

# âœ… ê¸°ë³¸ ì‹¤í–‰ ëª…ë ¹ì–´ëŠ” composeì—ì„œ ì§€ì •
